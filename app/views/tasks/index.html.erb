<div class="container mt-4">
  <h1 class="mb-4">My tasks</h1>

  <ul class="list-unstyled">
  <% @tasks.each do |task| %>
    <li class="mb-2 d-flex align-items-center">

      <%= form_with model: task, url: "/tasks/#{task.id}", method: :patch, class: "me-2" do |f| %>
        <div class="form-check">
          <%= f.check_box :completed,
                          class: "form-check-input",
                          id: "task_completed_#{task.id}",
                          onchange: "this.form.submit();" %>

          <!-- label เว้นว่างไม่แสดงคำว่า 'Completed' -->
          <%= f.label "", class: "form-check-label", for: "task_completed_#{task.id}" %>
        </div>
      <% end %>

      <!-- ลิงก์ไป show -->
      <%= link_to task.title, "/tasks/#{task.id}", class: "me-2 text-decoration-none " %>

      <!-- ปุ่มลบ -->
      <%= link_to "/tasks/#{task.id}",
                  data: { turbo_method: :delete, turbo_confirm: "Delete this task?" },
                  class:"text-danger ms-2" do %>
        <i class="fa-solid fa-trash"></i>
      <% end %>

    </li>
  <% end %>
</ul>
  <%= link_to "/tasks/new", class: "text-primary mt-3 d-inline-block" do %>
    <i class="fa-solid fa-plus"></i> Add a new task
  <% end %>
</div>
